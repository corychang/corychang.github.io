<!-- XML file for the kid cat level -->
<level>
	<!-- Note: the original level had bounding box X from -2000 to 4000 and Y from -2000 to 4000.
		So add 2000 to each x and y coord you see there -->
	<width>6000</width>
	<height>6000</height>
	
	<camera>
		<x>1500</x>
		<y>2400</y>
	</camera>

	<background>
		<texture>Assets/level_kid_cat/background</texture>
	</background>

	<music>Assets/SFX_Music/MortisKidandCatSuburb</music>
	
	<door>
		<key>door</key>
		<x>1850</x>
		<y>2270</y>
		<open>false</open>
		<behaviors>
			<behavior requireAll="true">
				<trigger type="LifeTrigger" objectToMonitor="kid" triggerOnAlive="True"  />
				<trigger type="LifeTrigger" objectToMonitor="cat" triggerOnAlive="True" />
				<trigger type="ObjectCloseTrigger" targetObjectName="kid" triggerDistance="45.0" />

				<response type="DoorOpenResponse" />	
			</behavior>
			<behavior requireAll="false">
				<trigger type="LifeTrigger" objectToMonitor="kid" triggerOnAlive="False"  />
				<trigger type="LifeTrigger" objectToMonitor="cat" triggerOnAlive="False" />
				<response type="DoorCloseResponse" />
			</behavior>
		</behaviors>
	
	</door>
	
	<platforms>
		<platform>
			<x>1850</x>
			<y>2600</y>
			<texture>Assets/global/platform_large</texture>
			<boundingHeight>500</boundingHeight>
			<boundingWidth>1050</boundingWidth>
			<boundingOffsetX>50</boundingOffsetX>
			<boundingOffsetY>100</boundingOffsetY>
		</platform>
		
		<platform>
			<x>3200</x>
			<y>2800</y>
			<texture>Assets/global/platform_small</texture>
			<boundingHeight>210</boundingHeight>
			<boundingWidth>200</boundingWidth>
			<boundingOffsetX>90</boundingOffsetX>
			<boundingOffsetY>55</boundingOffsetY>
		</platform>
		
		<platform>
			<x>3700</x>
			<y>2750</y>
			<texture>Assets/global/platform_large</texture>
			<boundingHeight>500</boundingHeight>
			<boundingWidth>1100</boundingWidth>
			<boundingOffsetX>0</boundingOffsetX>
			<boundingOffsetY>100</boundingOffsetY>
		</platform>
	</platforms>
	
	<player>
		<x>3180</x>
		<y>2400</y>
		<texture>Assets/global/death_dave</texture>
	</player>
		
	<interactiveObjects>
		<interactiveObject>
			<key>tree</key>
			<alive>true</alive>
			<x>4300</x>
			<y>2400</y>
			<texture>Assets/level_kid_cat/tree</texture>
			<scale>0.5</scale>
			<states>
				<sheet_width>2</sheet_width>
				<sheet_height>1</sheet_height>
				<alive_state>
					<start>0</start>
					<end>0</end>
					<loop>true</loop>
				</alive_state>
				<dead_state>
					<start>1</start>
					<end>1</end>
					<loop>true</loop>
				</dead_state>
			</states>
			<!-- add tree dead level_kid_cat/tree_dead -->
		</interactiveObject>
		
		<interactiveObject>
			<key>cat</key>
			<alive>false</alive>
			<x>2500</x>
			<y>2570</y>
			<texture>Assets/level_kid_cat/cat</texture>
			
			<states>
				<sheet_width>3</sheet_width>
				<sheet_height>4</sheet_height>
				<alive_state>
					<start>1</start>
					<end>6</end>
					<loop>true</loop>
				</alive_state>
				<dead_state>
					<start>0</start>
					<end>0</end>
					<loop>true</loop>
				</dead_state>
				<moving_state>
					<start>7</start>
					<end>11</end>
					<loop>true</loop>
				</moving_state>
			</states>
			
			<behaviors>
				<behavior requireAll="true">
					<trigger type="LifeTrigger" objectToMonitor	="kid" triggerOnAlive="true"  />
					<trigger type="LifeTrigger" objectToMonitor	="cat" triggerOnAlive="true"  />
					
					<response type="MoveToTargetResponse" moveToTargetType="MoveToTargetObject" targetName="door" xOnly="True" endOnClose="true" />	
				</behavior>
			</behaviors>
			<!-- TODO: animations and behaviors -->
		</interactiveObject>
		
		<interactiveObject>
			<key>kid</key>
			<alive>true</alive>
			<x>2675</x>
			<y>2440</y>
			<texture>Assets/level_kid_cat/kid</texture>
			<scale>0.5</scale>
			<!-- TODO: animations and behaviors -->
			
			<states>
				<sheet_width>4</sheet_width>
				<sheet_height>7</sheet_height>
				<alive_state>
					<start>0</start>
					<end>2</end>
					<loop>true</loop>
				</alive_state>
				<dead_state>
					<start>27</start>
					<end>27</end>
					<loop>false</loop>
				</dead_state>
				<transition_state>
					<start>12</start>
					<end>26</end>
				</transition_state>
				<moving_state>
					<start>4</start>
					<end>11</end>
					<loop>true</loop>
				</moving_state>
			</states>
			
			<behaviors>
				<behavior requireAll="true">
					<trigger type="LifeTrigger" objectToMonitor	="kid" triggerOnAlive="true"  />
					<trigger type="LifeTrigger" objectToMonitor	="cat" triggerOnAlive="true"  />
					
					<response type="MoveToTargetResponse" moveToTargetType="MoveToTargetObject" targetName="door" xOnly="True" endOnClose="True"/>	
				</behavior>
			</behaviors>
		</interactiveObject>
	</interactiveObjects>
	
</level>